<div style="width: 100%;" *ngIf="isBtn == true">
  <p style="text-align: right; padding: 20px;">
    <mat-icon class="large" (click)="opencard()">add_circle</mat-icon>
  </p>
</div>
<div *ngIf="isTable == true">
  <mat-form-field>
    <mat-label>Filter</mat-label>
    <input
      matInput
      (keyup)="applyFilter($event)"
      placeholder="Filter Value"
      #input
    />
  </mat-form-field>
  <table #table mat-table matSort [dataSource]="data">
    <!-- Position Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>ID.</th>
      <td mat-cell *matCellDef="let element">{{ element.id }}</td>
    </ng-container>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    </ng-container>
    <ng-container matColumnDef="doctor">
      <th mat-header-cell *matHeaderCellDef>Doctor</th>
      <td mat-cell *matCellDef="let element">{{ element.doctor }}</td>
    </ng-container>
    <ng-container matColumnDef="photo">
      <th mat-header-cell *matHeaderCellDef>Photo</th>
      <td mat-cell *matCellDef="let element">{{ element.photo }}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let element">{{ element.email }}</td>
    </ng-container>
    <ng-container matColumnDef="visit_time">
      <th mat-header-cell *matHeaderCellDef>Visit Time</th>
      <td mat-cell *matCellDef="let element">{{ element.visit_time }}</td>
    </ng-container>
    <ng-container matColumnDef="number">
      <th mat-header-cell *matHeaderCellDef>Number</th>
      <td mat-cell *matCellDef="let element">{{ element.number }}</td>
    </ng-container>

    <ng-container matColumnDef="injury">
      <th mat-header-cell *matHeaderCellDef>Injury</th>
      <td mat-cell *matCellDef="let element">{{ element.injury }}</td>
    </ng-container>
    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element">
        <mat-icon (click)="view(element.id)">edit</mat-icon>
        <mat-icon (click)="delete(element.id)">delete</mat-icon>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">
        No data matching the filter "{{ input.value }}"
      </td>
    </tr>

    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </table>
</div>

<mat-card class="example-card" *ngIf="isshown == true">
  <mat-card-header>
    <mat-card-title>Add Appointment</mat-card-title>
  </mat-card-header>

  <span class="text-right" (click)="goForm()"
    ><mat-icon>keyboard_backspace</mat-icon></span
  >
  <mat-card-content [formGroup]="inputForm">
    <mat-form-field appearance="fill">
      <mat-label>Name</mat-label>
      <input matInput placeholder="Name" formControlName="name" />
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Doctor</mat-label>
      <input matInput placeholder="Doctor" formControlName="doctor" />
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" placeholder="Email" />
      <div
        *ngIf="submitted && inputForm.get('email').errors"
        class="invalid-feedback"
      >
        <div *ngIf="inputForm.get('email').errors.required">
          Email is required
        </div>
        <div *ngIf="inputForm.get('email').errors.email">
          Email must be a valid email address
        </div>
      </div>
    </mat-form-field>

    <mat-form-field>
      <input
        formControlName="visit_time"
        matInput
        [ngxMatDatetimePicker]="picker"
        placeholder="Choose a date"
        [min]="minDate"
        [max]="maxDate"
        [disabled]="disabled"
      />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <ngx-mat-datetime-picker
        #picker
        [showSpinners]="showSpinners"
        [showSeconds]="showSeconds"
        [stepHour]="stepHour"
        [stepMinute]="stepMinute"
        [stepSecond]="stepSecond"
        [touchUi]="touchUi"
        [color]="color"
        [enableMeridian]="enableMeridian"
        [disableMinute]="disableMinute"
        [hideTime]="hideTime"
      >
      </ngx-mat-datetime-picker>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Number</mat-label>
      <input matInput formControlName="number" placeholder="Number" />
      <span
        *ngIf="
          inputForm.get('number').touched && inputForm.get('number').invalid
        "
        class="alert alert-danger"
      >
        <div
          *ngIf="submitted == true && inputForm.get('number').errors.required"
        >
          Mobile Number is required.
        </div>
        <div *ngIf="inputForm.get('number').errors.pattern">
          Please, Enter 10 digit Mobile Number.
        </div>
      </span>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Injury</mat-label>
      <input matInput formControlName="injury" placeholder="Injury" />
    </mat-form-field>
  </mat-card-content>

  <mat-card-footer style="text-align: right;">
    <button
      (click)="save()"
      color="primary"
      style="margin-right: 5px;"
      mat-raised-button
    >
      Submit
    </button>
  </mat-card-footer>
</mat-card>
